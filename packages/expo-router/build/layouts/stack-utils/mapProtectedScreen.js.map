{"version":3,"file":"mapProtectedScreen.js","sourceRoot":"","sources":["../../../src/layouts/stack-utils/mapProtectedScreen.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,gDA8BC;AAtCD,+CAAwC;AAExC,iEAA8D;AAC9D,+CAA6E;AAC7E,mDAAqD;AACrD,qDAAuE;AACvE,+CAA4C;AAE5C,SAAgB,kBAAkB,CAAC,KAAqB;IACtD,OAAO;QACL,GAAG,KAAK;QACR,QAAQ,EAAE,gBAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;aACvC,GAAG,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;YACpB,IAAI,IAAA,wBAAa,EAAC,KAAK,EAAE,yBAAW,CAAC,EAAE,CAAC;gBACtC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,IAAI,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC;gBACjE,MAAM,OAAO,GACX,OAAO,YAAY,KAAK,UAAU;oBAChC,CAAC,CAAC,CAAC,GAAG,MAAuC,EAAE,EAAE,CAC7C,IAAA,6CAA+B,EAAC,YAAY,CAAC,GAAG,MAAM,CAAC,EAAE,EAAE,QAAQ,EAAE,CAAC;oBAC1E,CAAC,CAAC,IAAA,6CAA+B,EAAC,YAAY,IAAI,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC;gBACxE,OAAO,CAAC,eAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,EAAG,CAAC;YAChE,CAAC;iBAAM,IAAI,IAAA,wBAAa,EAAC,KAAK,EAAE,qBAAS,CAAC,EAAE,CAAC;gBAC3C,OAAO,CAAC,qBAAS,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,kBAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAG,CAAC;YAC5F,CAAC;iBAAM,IAAI,IAAA,wBAAa,EAAC,KAAK,EAAE,2CAAoB,CAAC,EAAE,CAAC;gBACtD,8EAA8E;gBAC9E,kEAAkE;gBAClE,OAAO,IAAI,CAAC;YACd,CAAC;iBAAM,CAAC;gBACN,IAAI,eAAK,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC;oBAChC,OAAO,CAAC,IAAI,CAAC,0CAA0C,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;gBACvE,CAAC;qBAAM,CAAC;oBACN,OAAO,CAAC,IAAI,CAAC,0CAA0C,KAAK,EAAE,CAAC,CAAC;gBAClE,CAAC;YACH,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;aACD,MAAM,CAAC,OAAO,CAAC;KACnB,CAAC;AACJ,CAAC","sourcesContent":["import React, { Children } from 'react';\n\nimport { StackHeaderComponent } from './StackHeaderComponent';\nimport { StackScreen, appendScreenStackPropsToOptions } from './StackScreen';\nimport { isChildOfType } from '../../utils/children';\nimport { Protected, type ProtectedProps } from '../../views/Protected';\nimport { Screen } from '../../views/Screen';\n\nexport function mapProtectedScreen(props: ProtectedProps): ProtectedProps {\n  return {\n    ...props,\n    children: Children.toArray(props.children)\n      .map((child, index) => {\n        if (isChildOfType(child, StackScreen)) {\n          const { children, options: childOptions, ...rest } = child.props;\n          const options =\n            typeof childOptions === 'function'\n              ? (...params: Parameters<typeof childOptions>) =>\n                  appendScreenStackPropsToOptions(childOptions(...params), { children })\n              : appendScreenStackPropsToOptions(childOptions ?? {}, { children });\n          return <Screen key={rest.name} {...rest} options={options} />;\n        } else if (isChildOfType(child, Protected)) {\n          return <Protected key={`${index}-${props.guard}`} {...mapProtectedScreen(child.props)} />;\n        } else if (isChildOfType(child, StackHeaderComponent)) {\n          // Ignore Stack.Header, because it can be used to set header options for Stack\n          // and we use this function to process children of Stack, as well.\n          return null;\n        } else {\n          if (React.isValidElement(child)) {\n            console.warn(`Unknown child element passed to Stack: ${child.type}`);\n          } else {\n            console.warn(`Unknown child element passed to Stack: ${child}`);\n          }\n        }\n        return null;\n      })\n      .filter(Boolean),\n  };\n}\n"]}